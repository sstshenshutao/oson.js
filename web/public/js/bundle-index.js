!function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){let n=s(1);window.onload=function(){document.getElementById("button").onclick=function(){try{let t=function(t){let e=n(t);return JSON.stringify(e,void 0,"    ")}(document.getElementById("osonAnnotation").value);document.getElementById("jsonschema").value=t}catch(t){document.getElementById("jsonschema").value=t}}}},function(t,e,s){let n=s(2),i=s(3),o=n;!function(t,e,s){let n=t.yy;n[e]?console.log(`${e} exists`):n[e]=s}(o,"Node",i),t.exports=function(t){return o.parse(t)}},function(t,e){var s=function(){var t=function(t,e,s,n){for(s=s||{},n=t.length;n--;s[t[n]]=e);return s},e=[1,3],s=[1,8],n=[1,9],i=[1,10],o=[1,11,14,25],r=[1,5,11,14,25],a=[1,18],l=[1,36],h=[1,30],c=[1,31],u=[1,32],y=[1,33],p=[1,26],f=[1,24],d=[1,27],m=[1,29],g=[1,34],_=[1,35],k=[1,45],b=[1,48],j=[1,47],x=[5,10,11,13,14,16,18,21,24,25,26],v=[5,26],E=[2,26],S=[1,71],$=[1,72],N=[11,25],P={trace:function(){},yy:{},symbols_:{error:2,osonSchema:3,osonElement:4,WS:5,osonValue:6,osonObject:7,osonArray:8,annotatedValue:9,"{":10,"}":11,osonMembers:12,"[":13,"]":14,osonElements:15,DBL_QUOTE:16,closePart:17,"@":18,osonAnnotation:19,singleModifiedValueChar:20,"?":21,normalChar:22,normalChars:23,MODIFIED_BOTH_CHAR:24,",":25,":":26,osonMember:27,annotatedKey:28,closeKey:29,singleModifiedKeyChar:30,$accept:0,$end:1},terminals_:{2:"error",5:"WS",10:"{",11:"}",13:"[",14:"]",16:"DBL_QUOTE",18:"@",21:"?",24:"MODIFIED_BOTH_CHAR",25:",",26:":"},productions_:[0,[3,1],[4,3],[4,2],[4,2],[4,1],[6,1],[6,1],[6,1],[7,3],[7,2],[7,3],[8,3],[8,2],[8,3],[9,2],[17,3],[17,3],[17,2],[17,1],[20,1],[20,1],[19,2],[23,2],[23,2],[23,2],[23,0],[22,1],[22,1],[22,1],[22,1],[22,1],[22,1],[22,1],[22,1],[12,3],[12,1],[15,3],[15,1],[27,3],[27,5],[27,4],[27,4],[28,2],[29,1],[29,2],[29,3],[29,2],[30,1],[30,1]],performAction:function(t,e,s,n,i,o,r){var a=o.length-1;switch(i){case 1:return o[a];case 2:case 4:this.$=o[a-1];break;case 3:case 5:case 20:case 21:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 48:case 49:this.$=o[a];break;case 6:case 7:case 8:case 43:this.$=o[a];break;case 9:case 10:this.$=new n.Node("object",void 0,[]);break;case 11:this.$=new n.Node("object",void 0,o[a-1]);break;case 12:case 13:this.$=new n.Node("array",void 0,[]);break;case 14:this.$=new n.Node("array",void 0,o[a-1]);break;case 15:this.$=o[a];break;case 16:this.$=n.Node.handleClosePart("examples",o[a-2],o[a]);break;case 17:this.$=n.Node.handleClosePart("annotation","@"+o[a-1]);break;case 18:this.$=n.Node.handleClosePart("examples",o[a-1],o[a]);break;case 19:case 44:this.$="";break;case 22:case 23:case 24:case 25:this.$=o[a-1]+o[a];break;case 26:this.$="";break;case 35:case 37:this.$=o[a],this.$.unshift(o[a-2]);break;case 36:case 38:this.$=[o[a]];break;case 39:case 41:this.$={key:o[a-2],value:o[a]};break;case 40:case 42:this.$={key:o[a-3],value:o[a]};break;case 45:this.$=n.Node.handleCloseKey("key",o[a-1],o[a]);break;case 46:this.$=n.Node.handleCloseKey("key",o[a-2],o[a]);break;case 47:this.$=n.Node.handleCloseKey("optional",!0)}},table:[{3:1,4:2,5:e,6:4,7:5,8:6,9:7,10:s,13:n,16:i},{1:[3]},{1:[2,1]},{6:11,7:5,8:6,9:7,10:s,13:n,16:i},t(o,[2,5],{5:[1,12]}),t(r,[2,6]),t(r,[2,7]),t(r,[2,8]),{5:[1,13],11:[1,14],12:15,16:a,27:16,28:17},{4:22,5:[1,19],6:4,7:5,8:6,9:7,10:s,13:n,14:[1,20],15:21,16:i},{5:l,10:h,11:c,13:u,14:y,16:p,17:23,18:f,20:25,21:d,22:28,24:m,25:g,26:_},t(o,[2,3],{5:[1,37]}),t(o,[2,4]),{11:[1,38],16:a,28:39},t(r,[2,10]),{11:[1,40]},{11:[2,36],25:[1,41]},{5:[1,43],26:[1,42]},{5:l,10:h,11:c,13:u,14:y,16:k,18:b,21:j,22:49,24:m,25:g,26:_,29:44,30:46},{6:11,7:5,8:6,9:7,10:s,13:n,14:[1,50],16:i},t(r,[2,13]),{14:[1,51]},{14:[2,38],25:[1,52]},t(r,[2,15]),{5:l,10:h,11:c,13:u,14:y,18:[1,53],19:54,20:55,21:d,22:28,24:m,25:g,26:_},{5:l,10:h,11:c,13:u,14:y,16:p,17:56,18:f,20:25,21:d,22:28,24:m,25:g,26:_},t(r,[2,19]),t(x,[2,20]),t(x,[2,21]),t(x,[2,27]),t(x,[2,28]),t(x,[2,29]),t(x,[2,30]),t(x,[2,31]),t(x,[2,32]),t(x,[2,33]),t(x,[2,34]),t(o,[2,2]),t(r,[2,9]),{5:[1,57],26:[1,58]},t(r,[2,11]),{5:[1,60],12:59,16:a,27:16,28:17},{4:61,5:e,6:4,7:5,8:6,9:7,10:s,13:n,16:i},{26:[1,62]},t(v,[2,43]),t(v,[2,44]),{5:l,10:h,11:c,13:u,14:y,16:k,18:b,21:j,22:49,24:m,25:g,26:_,29:63,30:46},{16:[1,65],21:[1,64]},t(x,[2,48]),t(x,[2,49]),t(r,[2,12]),t(r,[2,14]),{4:22,5:e,6:4,7:5,8:6,9:7,10:s,13:n,15:66,16:i},{5:l,10:h,11:c,13:u,14:y,16:p,17:67,18:f,20:25,21:d,22:28,24:m,25:g,26:_},{16:[1,68]},{5:l,10:h,11:c,13:u,14:y,16:E,18:S,21:$,22:70,23:69,24:m,25:g,26:_},t(r,[2,18]),{26:[1,73]},{4:74,5:e,6:4,7:5,8:6,9:7,10:s,13:n,16:i},{11:[2,35]},{16:a,28:39},t(N,[2,39]),{4:75,5:e,6:4,7:5,8:6,9:7,10:s,13:n,16:i},t(v,[2,45]),{5:l,10:h,11:c,13:u,14:y,16:k,18:b,21:j,22:49,24:m,25:g,26:_,29:76,30:46},t(v,[2,47]),{14:[2,37]},t(r,[2,16]),t(r,[2,17]),{16:[2,22]},{5:l,10:h,11:c,13:u,14:y,16:E,18:S,21:$,22:70,23:77,24:m,25:g,26:_},{5:l,10:h,11:c,13:u,14:y,16:E,18:S,21:$,22:70,23:78,24:m,25:g,26:_},{5:l,10:h,11:c,13:u,14:y,16:E,18:S,21:$,22:70,23:79,24:m,25:g,26:_},{4:80,5:e,6:4,7:5,8:6,9:7,10:s,13:n,16:i},t(N,[2,41]),t(N,[2,42]),t(v,[2,46]),{16:[2,23]},{16:[2,24]},{16:[2,25]},t(N,[2,40])],defaultActions:{2:[2,1],59:[2,35],66:[2,37],69:[2,22],77:[2,23],78:[2,24],79:[2,25]},parseError:function(t,e){if(!e.recoverable){var s=new Error(t);throw s.hash=e,s}this.trace(t)},parse:function(t){var e=this,s=[0],n=[null],i=[],o=this.table,r="",a=0,l=0,h=0,c=2,u=1,y=i.slice.call(arguments,1),p=Object.create(this.lexer),f={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(f.yy[d]=this.yy[d]);p.setInput(t,f.yy),f.yy.lexer=p,f.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var m=p.yylloc;i.push(m);var g=p.options&&p.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,k,b,j,x,v,E,S,$,N=function(){var t;return"number"!=typeof(t=p.lex()||u)&&(t=e.symbols_[t]||t),t},P={};;){if(b=s[s.length-1],this.defaultActions[b]?j=this.defaultActions[b]:(null==_&&(_=N()),j=o[b]&&o[b][_]),void 0===j||!j.length||!j[0]){var A="";for(v in $=[],o[b])this.terminals_[v]&&v>c&&$.push("'"+this.terminals_[v]+"'");A=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+$.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(a+1)+": Unexpected "+(_==u?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(A,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:m,expected:$})}if(j[0]instanceof Array&&j.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+_);switch(j[0]){case 1:s.push(_),n.push(p.yytext),i.push(p.yylloc),s.push(j[1]),_=null,k?(_=k,k=null):(l=p.yyleng,r=p.yytext,a=p.yylineno,m=p.yylloc,h>0&&h--);break;case 2:if(E=this.productions_[j[1]][1],P.$=n[n.length-E],P._$={first_line:i[i.length-(E||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(E||1)].first_column,last_column:i[i.length-1].last_column},g&&(P._$.range=[i[i.length-(E||1)].range[0],i[i.length-1].range[1]]),void 0!==(x=this.performAction.apply(P,[r,l,a,f.yy,j[1],n,i].concat(y))))return x;E&&(s=s.slice(0,-1*E*2),n=n.slice(0,-1*E),i=i.slice(0,-1*E)),s.push(this.productions_[j[1]][0]),n.push(P.$),i.push(P._$),S=o[s[s.length-2]][s[s.length-1]],s.push(S);break;case 3:return!0}}return!0}},A={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===n.length?this.yylloc.first_column:0)+n[n.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var s,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],s=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,s,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((s=this._input.match(this.rules[i[o]]))&&(!e||s[0].length>e[0].length)){if(e=s,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(s,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,s,n){switch(s){case 0:return 18;case 1:return 21;case 2:return"@@";case 3:return"??";case 4:return 10;case 5:return 11;case 6:return 13;case 7:return 14;case 8:return 25;case 9:return 26;case 10:return 5;case 11:return 24;case 12:return 16;case 13:return"REGEX"}},rules:[/^(?:([@]))/,/^(?:([\?]))/,/^(?:([@])([@]))/,/^(?:([\?])([\?]))/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:(((\\["\\rnt/])|([ ]))+))/,/^(?:(([!#->A-\[\]-~])|(\\["\\bf/])|(\\)))/,/^(?:(["]))/,/^(?:\/(?:[^\/]|\\\/)*\/)/,/^(?:[ \t\n]+)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],inclusive:!0}}};function I(){this.yy={}}return P.lexer=A,I.prototype=P,P.Parser=I,new I}();t.exports=s},function(t,e,s){t.exports=class{constructor(t,e,s){if(this.NOVALUE={},this.json={},this.json.type=t,t instanceof Array&&t.length<2)throw new Error("must have at least two members in a union");return e&&this.addRange(e),s&&(s instanceof Array?this.addMultipleEntries(s):this.addSingleEntries(s)),this.json}addMultipleEntries(t){for(let e=0;e<t.length;e++)this.addSingleEntries(t[e])}addSingleEntries(t){if(this.json.type){if("array"===this.json.type)if("array"===t.type||"object"===t.type)this.json.items&&this.json.items.anyOf?this.json.items.anyOf.push(t):(this.json.items=this.json.items||[],this.json.items.push(t));else if(t.examples||t.osonAnnotation)if(t.osonAnnotation){let s=this.parseAnnotation(t.osonAnnotation);if("json"===s.type){this.json.type=void 0;let t=this.json.examples;this.json=[];for(let e=0;e<t.length;e++)this.json.push(t[e]);this.json.additionalItems=void 0}else if("additionalProperties"===s.type)this.json.additionalItems=s.value;else if(this.json.items=this.json.items||[],this.json.items.push(s),t.examples){let n=e(t.examples,s);this.json.examples=this.json.examples||[],this.json.examples.push(n)}}else{let e=this.json.items;this.json.items={anyOf:e},t.examples&&(this.json.examples=this.json.examples||[],this.json.examples.push(t.examples))}else this.json.items=this.json.items||[],this.json.items.push(t);else if("object"===this.json.type)if(t.value||console.log("debug",t),"array"===t.value.type||"object"===t.value.type)this.json.properties=this.json.properties||{},this.json.required=this.json.required||[],t.key.optional||this.json.required.push(t.key.key),this.json.properties[t.key.key]=t.value;else if(t.key||t.value)if(!t.key.key&&t.key.optional){if("@JSON"===t.value.osonAnnotation){this.json.type=void 0;let t=this.json.properties;this.json={};for(let e in t)this.json[e]=t[e]}}else{t.key.key,t.key.optional;let s=t.value.examples,n=this.parseAnnotation(t.value.osonAnnotation);s=e(s,n),s&&(n.examples=[s]),"json"===n.type?(this.json.properties=this.json.properties||{},this.json.properties[t.key.key]=s):"additionalProperties"===n.type?this.json.additionalProperties=n.value:(this.json.properties=this.json.properties||{},this.json.required=this.json.required||[],t.key.optional||this.json.required.push(t.key.key),this.json.properties[t.key.key]=n)}else this.json.properties=this.json.properties||{},this.json.required=this.json.required||[],t.key.optional||this.json.required.push(t.key.key),this.json.properties[t.key.key]=t.value}else Array.isArray(this.json)?"array"===t.type||"object"===t.type?this.json.push(t):"@JSON"===t.osonAnnotation?this.json.push(t.examples):this.json.push(t):"array"===t.value.type||"object"===t.value.type?this.json[t.key.key]=t.value:"@JSON"===t.value.osonAnnotation?this.json[t.key.key]=t.value.examples:this.json[t.key.key]=t.value;function e(t,e){return"number"===e.type||"integer"===e.type?t=Number(t):"boolean"===e.type&&(t="true"===t),t}}parseAnnotation(t){return s(4)(t)}addRange(t){var e="array"===this.json.type?"Items":"string"===this.json.type?"Length":"imum";null!==t[0]&&(this.json["min"+e]=t[0]),null!==t[1]&&(this.json["max"+e]=t[1])}testPrint(t){console.log(t)}static getOriValue(t){return function(t){return t.replace(/@@/g,"@")}(t)}static handleClosePart(t,e,s){if("annotation"===t)return{osonAnnotation:e};if("examples"===t){let t=s.examples?s:{examples:"string"==typeof s?s:"",osonAnnotation:s.osonAnnotation};return t.examples=e+t.examples,t}}static handleCloseKey(t,e,s){if("optional"===t)return{optional:e};if("key"===t){let t=s.key?s:{key:"string"==typeof s?s:"",optional:s.optional};return t.key=e+t.key,t}}static getOriKey(t){return function(t){return t.replace(/\?\?/g,"?")}(t.slice(1,t.length-2))}static unionType(t,e){t.type=Array.isArray(t.type)?t.type:[t.type],t.type.unshift(e.type)}static addOptional(t,e){}static addSuffix(t,e){}}},function(t,e,s){let n=s(5),i=s(6),o=n;!function(t,e,s){let n=t.yy;n[e]?console.log(`${e} exists`):n[e]=s}(o,"Node",i),t.exports=function(t){return o.parse(t)}},function(t,e){var s=function(){var t=function(t,e,s,n){for(s=s||{},n=t.length;n--;s[t[n]]=e);return s},e=[1,7],s=[1,9],n=[1,10],i=[1,11],o=[1,12],r=[1,13],a=[1,14],l=[1,15],h=[1,16],c=[1,10,30],u=[1,10,27,30],y=[2,28],p=[1,22],f=[1,10,27,30,36],d=[1,35],m=[1,36],g=[1,37],_=[1,39],k=[1,38],b=[1,10,29,34],j={trace:function(){},yy:{},symbols_:{error:2,annotationObject:3,"@":4,annotation:5,annotationType:6,unionType:7,basicType:8,"(":9,")":10,"|":11,basicTypePrefix:12,basicTypeSuffix:13,INTEGER_TYPE:14,optionalRange:15,NUMBER_TYPE:16,BOOLEAN_TYPE:17,NULL_TYPE:18,ANY_TYPE:19,STRING_TYPE:20,optionalPerlRegex:21,JSON_TYPE:22,"*":23,optionalTypeTuple:24,optionalEnumValues:25,optionalDefaultValue:26,"{":27,elements:28,"}":29,"=":30,json_value:31,"[":32,json_number:33,",":34,"]":35,REGEX:36,json_string:37,TRUE:38,FALSE:39,NULL:40,NUMBER_LIT:41,json_array:42,members:43,pair:44,STRING_LIT:45,":":46,$accept:0,$end:1},terminals_:{2:"error",4:"@",9:"(",10:")",11:"|",14:"INTEGER_TYPE",16:"NUMBER_TYPE",17:"BOOLEAN_TYPE",18:"NULL_TYPE",19:"ANY_TYPE",20:"STRING_TYPE",22:"JSON_TYPE",23:"*",27:"{",29:"}",30:"=",32:"[",34:",",35:"]",36:"REGEX",38:"TRUE",39:"FALSE",40:"NULL",41:"NUMBER_LIT",45:"STRING_LIT",46:":"},productions_:[0,[3,2],[5,1],[6,1],[6,1],[7,5],[7,3],[8,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,3],[12,1],[12,2],[24,1],[24,0],[13,2],[25,3],[25,2],[25,0],[26,2],[26,0],[15,5],[15,4],[15,4],[15,3],[15,0],[21,1],[21,0],[28,1],[28,3],[31,1],[31,1],[31,1],[31,1],[31,1],[33,1],[42,2],[42,3],[43,1],[43,3],[44,3],[37,1]],performAction:function(t,e,s,n,i,o,r){var a=o.length-1;switch(i){case 1:return o[a];case 2:case 3:case 4:case 31:case 41:this.$=o[a];break;case 5:n.Node.unionType(o[a],o[a-3]),this.$=o[a];break;case 6:this.$=o[a-1];break;case 7:this.$=o[a-1],n.Node.addSuffix(o[a-1],o[a]);break;case 8:this.$=new n.Node("integer",o[a],[]);break;case 9:this.$=new n.Node("number",o[a],[]);break;case 10:this.$=new n.Node("boolean",void 0,[]);break;case 11:this.$=new n.Node("null",void 0,[]);break;case 12:this.$=new n.Node("any",void 0,[]);break;case 13:this.$=new n.Node("string",o[a-1],[]),n.Node.addOptional(this.$,o[a]);break;case 14:this.$=new n.Node("json",void 0,[]);break;case 15:this.$=new n.Node("additionalProperties",void 0,[]),n.Node.addOptional(this.$,o[a]);break;case 16:this.$={optionalTypeTuple:o[a]};break;case 17:this.$={optionalTypeTuple:!0};break;case 18:this.$={},o[a-1]&&(this.$.optionalEnumValues=o[a-1]),o[a]&&(this.$.optionalDefaultValue=o[a]);break;case 19:this.$=JSON.parse(`[${o[a-1]}]`);break;case 20:this.$=[];break;case 22:this.$=JSON.parse(o[a]);break;case 24:this.$=[JSON.parse(o[a-3]),JSON.parse(o[a-1])];break;case 25:this.$=[JSON.parse(o[a-2]),null];break;case 26:this.$=[null,JSON.parse(o[a])];break;case 27:this.$=[null,null];break;case 29:this.$={optionalPerlRegex:o[a].slice(1,o[a].length-1)};break;case 32:case 42:this.$=o[a-2]+","+o[a];break;case 33:case 34:case 35:case 36:case 37:case 38:this.$=o[a];break;case 39:this.$="[]";break;case 40:this.$=`[ ${o[a-1]} ]`;break;case 43:this.$=`${o[a-2]} : ${o[a]}`;break;case 44:this.$='"'+o[a].slice(1,o[a].length-1)+'"'}},table:[{3:1,4:[1,2]},{1:[3]},{5:3,6:4,7:5,8:6,9:e,12:8,14:s,16:n,17:i,18:o,19:r,20:a,22:l,23:h},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4]},{8:17,12:8,14:s,16:n,17:i,18:o,19:r,20:a,22:l,23:h},t(c,[2,21],{13:18,25:19,27:[1,20]}),t(u,y,{15:21,32:p}),t(u,y,{15:23,32:p}),t(u,[2,10]),t(u,[2,11]),t(u,[2,12]),t(f,y,{15:24,32:p}),t(u,[2,14]),t(u,[2,17],{24:25,7:26,9:e}),{10:[1,27]},t(n,[2,7]),t(n,[2,23],{26:28,30:[1,29]}),{28:30,29:[1,31],31:32,33:34,37:33,38:d,39:m,40:g,41:_,45:k},t(u,[2,8]),{33:40,34:[1,41],41:_},t(u,[2,9]),t(u,[2,30],{21:42,36:[1,43]}),t(u,[2,15]),t(u,[2,16]),t(u,[2,6],{11:[1,44]}),t(n,[2,18]),{31:45,33:34,37:33,38:d,39:m,40:g,41:_,45:k},{29:[1,46]},t(c,[2,20]),{29:[2,31],34:[1,47]},t(b,[2,33]),t(b,[2,34]),t(b,[2,35]),t(b,[2,36]),t(b,[2,37]),t(b,[2,44]),t([1,10,29,34,35],[2,38]),{34:[1,48]},{33:49,35:[1,50],41:_},t(u,[2,13]),t(u,[2,29]),{7:51,9:e},t(n,[2,22]),t(c,[2,19]),{28:52,31:32,33:34,37:33,38:d,39:m,40:g,41:_,45:k},{33:53,35:[1,54],41:_},{35:[1,55]},t(f,[2,27]),t(u,[2,5]),{29:[2,32]},{35:[1,56]},t(f,[2,25]),t(f,[2,26]),t(f,[2,24])],defaultActions:{3:[2,1],4:[2,2],5:[2,3],6:[2,4],52:[2,32]},parseError:function(t,e){if(!e.recoverable){var s=new Error(t);throw s.hash=e,s}this.trace(t)},parse:function(t){var e=this,s=[0],n=[null],i=[],o=this.table,r="",a=0,l=0,h=0,c=2,u=1,y=i.slice.call(arguments,1),p=Object.create(this.lexer),f={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(f.yy[d]=this.yy[d]);p.setInput(t,f.yy),f.yy.lexer=p,f.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var m=p.yylloc;i.push(m);var g=p.options&&p.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,k,b,j,x,v,E,S,$,N=function(){var t;return"number"!=typeof(t=p.lex()||u)&&(t=e.symbols_[t]||t),t},P={};;){if(b=s[s.length-1],this.defaultActions[b]?j=this.defaultActions[b]:(null==_&&(_=N()),j=o[b]&&o[b][_]),void 0===j||!j.length||!j[0]){var A="";for(v in $=[],o[b])this.terminals_[v]&&v>c&&$.push("'"+this.terminals_[v]+"'");A=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+$.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(a+1)+": Unexpected "+(_==u?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(A,{text:p.match,token:this.terminals_[_]||_,line:p.yylineno,loc:m,expected:$})}if(j[0]instanceof Array&&j.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+_);switch(j[0]){case 1:s.push(_),n.push(p.yytext),i.push(p.yylloc),s.push(j[1]),_=null,k?(_=k,k=null):(l=p.yyleng,r=p.yytext,a=p.yylineno,m=p.yylloc,h>0&&h--);break;case 2:if(E=this.productions_[j[1]][1],P.$=n[n.length-E],P._$={first_line:i[i.length-(E||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(E||1)].first_column,last_column:i[i.length-1].last_column},g&&(P._$.range=[i[i.length-(E||1)].range[0],i[i.length-1].range[1]]),void 0!==(x=this.performAction.apply(P,[r,l,a,f.yy,j[1],n,i].concat(y))))return x;E&&(s=s.slice(0,-1*E*2),n=n.slice(0,-1*E),i=i.slice(0,-1*E)),s.push(this.productions_[j[1]][0]),n.push(P.$),i.push(P._$),S=o[s[s.length-2]][s[s.length-1]],s.push(S);break;case 3:return!0}}return!0}},x={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===n.length?this.yylloc.first_column:0)+n[n.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var s,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],s=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,s,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((s=this._input.match(this.rules[i[o]]))&&(!e||s[0].length>e[0].length)){if(e=s,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(s,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,s,n){switch(s){case 0:return 45;case 1:return 41;case 2:return 38;case 3:return 39;case 4:return 40;case 5:return 14;case 6:return 16;case 7:return 17;case 8:return 18;case 9:return 19;case 10:return 20;case 11:return 22;case 12:return 27;case 13:return 29;case 14:return 30;case 15:return 32;case 16:return 35;case 17:return 9;case 18:return 10;case 19:return 11;case 20:return"`";case 21:return 34;case 22:return 46;case 23:return 23;case 24:return 4;case 25:return 36}},rules:[/^(?:(['])(['])|(['])((([ -&\(-\[\]-~])|(\\['\\bfnrt/])|(\\))+)([']))/,/^(?:((?:((?:([1-9])((?:([0-9])+))|([0-9])|-([1-9])((?:([0-9])+))|-([0-9])))((?:\.((?:([0-9])+))))((?:([eE][+-]?)((?:([0-9])+))))|((?:([1-9])((?:([0-9])+))|([0-9])|-([1-9])((?:([0-9])+))|-([0-9])))((?:([eE][+-]?)((?:([0-9])+))))|((?:([1-9])((?:([0-9])+))|([0-9])|-([1-9])((?:([0-9])+))|-([0-9])))((?:\.((?:([0-9])+))))|((?:([1-9])((?:([0-9])+))|([0-9])|-([1-9])((?:([0-9])+))|-([0-9]))))))/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:Integer\b)/,/^(?:Number\b)/,/^(?:Boolean\b)/,/^(?:Null\b)/,/^(?:Any\b)/,/^(?:String\b)/,/^(?:JSON\b)/,/^(?:\{)/,/^(?:\})/,/^(?:=)/,/^(?:\[)/,/^(?:\])/,/^(?:\()/,/^(?:\))/,/^(?:\|)/,/^(?:`)/,/^(?:,)/,/^(?::)/,/^(?:\*)/,/^(?:@)/,/^(?:\/(?:[^\/]|\\\/)*\/)/,/^(?:[ \t\n]+)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};function v(){this.yy={}}return j.lexer=x,v.prototype=j,j.Parser=v,new v}();t.exports=s},function(t,e){t.exports=class{constructor(t,e,s){if(this.NOVALUE={},this.json={},this.json.type=t,t instanceof Array&&t.length<2)throw new Error("must have at least two members in a union");return e&&this.addRange(e),s&&(s instanceof Array?this.addMultipleEntries(s):this.addSingleEntries(s)),this.json}addMultipleEntries(t){for(let e=0;e<t.length;e++)this.addSingleEntries(t[e])}addSingleEntries(t){if("array"===this.json.type)t.basicExample&&t.basicType&&(t={example:t.basicExample,type:t.basicType.type}),t.type&&"additionalProperties"===t.type?this.json.additionalItems=t.value:(this.json.items=this.json.items||[],this.json.items.push(t));else if("object"===this.json.type){let e=t[0],s=t[1];s.basicExample&&s.basicType&&(s={example:s.basicExample,type:s.basicType.type}),this.json.additionalProperties=!1,this.json.properties=this.json.properties||{},this.json.required=this.json.required||[],s.type&&"additionalProperties"===s.type?this.json.additionalProperties=s.value:(e.optional||this.json.required.push(e.text),this.json.properties[e.text]=s)}}addEntries(t){if("array"===this.json.type)if(this.json.additionalItems=!1,t instanceof Array){if(t.length>0){for(let e=0;e<t.length;e++)t[e].type&&"additionalProperties"===t[e].type&&(t.splice(e,1),this.json.additionalItems=!0);t.length>0&&(this.json.items=t)}}else t.type&&"additionalProperties"===t.type?this.json.additionalItems=!0:this.json.items=t;else if("object"===this.json.type){this.json.additionalProperties=!1,this.json.properties={},this.json.required=[];for(let e=0;e<t.length;e++){let s=t[e][1];s.type&&"additionalProperties"===s.type?this.json.additionalProperties=!0:(t[e][0].optional||this.json.required.push(t[e][0].text),this.json.properties[t[e][0].text]=s)}}}addRange(t){var e="array"===this.json.type?"Items":"string"===this.json.type?"Length":"imum";null!==t[0]&&(this.json["min"+e]=Number(t[0])),null!==t[1]&&(this.json["max"+e]=Number(t[1]))}testPrint(t){console.log(t)}static getOriValue(t){return function(t){return t.replace(/@@/g,"@")}(t.slice(1,t.length-1))}static getOriKey(t){return function(t){return t.replace(/\?\?/g,"?")}(t.slice(1,t.length-2))}static unionType(t,e){for(let i in e)"type"!==i?"enum"!==i?t[i]=e[i]:t.enum=s(t.enum,e.enum):(t.type=Array.isArray(t.type)?t.type:[t.type],n(t.type,e.type));function s(t,e){return e.filter(e=>!t.includes(e)).concat(t)}function n(t,e){t.includes(e)||t.unshift(e)}}static addOptional(t,e){e&&(e.optionalPerlRegex&&(t.pattern=e.optionalPerlRegex),e.optionalTypeTuple&&(t.value=e.optionalTypeTuple))}static addSuffix(t,e){e.optionalEnumValues&&(t.enum=e.optionalEnumValues),e.optionalDefaultValue&&(t.default=e.optionalDefaultValue)}}}]);
//# sourceMappingURL=bundle-index.js.map